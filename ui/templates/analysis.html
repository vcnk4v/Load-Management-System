<!DOCTYPE html>
<head>
    <title>Analysis Page</title>
    <link rel="stylesheet" href="../static/navbar.css">
    <link rel="stylesheet" href="../static/analysis.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>    
</head>
<body>
    
  <div class="navbar">
    <img src="../static/logo.png">
<a href="{{ url_for('home') }}">Home</a>
<a href="{{ url_for('status') }}">Status</a>
<a href="{{ url_for('notifications') }}">Notifications</a>
<a href="{{ url_for('predictive') }}">Predictive Analysis</a>
<a href="{{ url_for('failure') }}">Failure Analysis</a>
<a href="{{ url_for('energy') }}">Energy Saving</a>
<a href="{{ url_for('analysis') }}">Data Analytics</a>

</div>

    <h1 style="margin-top: 5%;">Data Analysis and Demonstration</h1>
    <canvas id="Load_Hosp" width="400" height="100"></canvas>

<script>
var labels = {{ labels | tojson }};
var load1 = {{ load1 | tojson }};


// Create the chart
var ctx = document.getElementById('Load_Hosp').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'scatter',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Load1',
        data: load1,
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        pointBackgroundColor:'rgba(213,123,101,1)',
        borderColor: 'rgba(255,255,255, 1)',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "LDR readings",
      }
      }
    }
  }
});
</script>     
<canvas id="Load2_Shop" width="400" height="100"></canvas>

<script>
var labels = {{ labels | tojson }};
var load2 = {{ load2 | tojson }};


// Create the chart
var ctx = document.getElementById('Load2_Shop').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'scatter',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Load2',
        data: load2,
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        pointBackgroundColor:'rgba(156,39,76,1)',
        borderColor: 'rgba(255,255,255, 1)',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "LDR readings",
      }
      }
    }
  }
});
</script>    
<canvas id="Load3_Fact" width="400" height="100"></canvas>

<script>
var labels = {{ labels | tojson }};
var load3 = {{ load3 | tojson }};

// Create the chart
var ctx = document.getElementById('Load3_Fact').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'scatter',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Load3',
        data: load3,
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        pointBackgroundColor:'rgba(255,0,0,1)',
        borderColor: 'rgba(255,255,255, 1)',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "LDR readings",
      }
      }
    }
  }
});
</script>    
<canvas id="Solar_chart" width="400" height="100"></canvas>
<script>
var labels = {{ labels | tojson }};
var solar = {{ solar | tojson }};


// Create the chart
var ctx = document.getElementById('Solar_chart').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'scatter',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Solar',
        data: solar,
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        pointBackgroundColor:'rgba(100,234,6,1)',
        borderColor: 'rgba(255,255,255, 1)',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "LDR readings",
      }
      }
    }
  }
});
</script>

<canvas id="Con_chart" width="400" height="100"></canvas>
<script>
var labels = {{ labels | tojson }};
var conventional = {{ conventional | tojson }};


// Create the chart
var ctx = document.getElementById('Con_chart').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'scatter',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Conventional',
        data: conventional,
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        pointBackgroundColor:'rgba(79,23,81,0.5)',
        borderColor: 'rgba(255,255,255, 1)',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "LDR readings",
      }
      }
    }
  }
});
</script>

<canvas id="myChart3" width="400" height="100"></canvas>
<script>
var labels = {{ graphInteval | tojson }};
var avgs = {{ Conavg | tojson }};
var avgs2 = {{ Sunavg | tojson }};

var avgs3 = {{ Load1avg | tojson }};
var avgs4 = {{ Load2avg | tojson }};
var avgs5 = {{ Load3avg | tojson }};





// Create the chart
var ctx = document.getElementById('myChart3').getContext('2d');
var myChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Average Conventional',
        data: avgs,
        backgroundColor: 'rgba(54, 162, 235, 1)',
        borderColor: 'rgba(0,255,255, 1)',
        borderWidth: 1
      },
      {
        label: 'Average Sun',
        data: avgs2,
        backgroundColor: 'rgba(0,0,255, 1)',
        borderColor: 'rgba(0,0,255, 1)',
        borderWidth: 1
      },
      {
        label: 'Load-1 value',
        data: avgs3,
        backgroundColor: 'rgba(254, 0, 1)',
        borderColor: 'rgba(254, 0, 1)',
        borderWidth: 1
      },
      {
        label: 'Load-2 value',
        data: avgs4,
        backgroundColor: 'rgba(254, 0, 1)',
        borderColor: 'rgba(254, 0, 1)',
        borderWidth: 1
      },
      {
        label: 'Load-3 value',
        data: avgs5,
        backgroundColor: 'rgba(254, 0, 1)',
        borderColor: 'rgba(254, 0, 1)',
        borderWidth: 1
      }
      
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Average Current",
      }
      },
      x: {
        beginAtZero: true,
        title: {
        display: true,
        text: "Intervals of LDR readings",
      }
      }
    }
  }
});
</script>
</body>
</html>